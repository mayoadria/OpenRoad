<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/pagaReserva.css">
    <link rel="stylesheet" href="/css/header.css">
    <script src="/scripts/pagaReserva.js" defer></script>
    <script src="/scripts/header.js" defer></script>
    <title>OpenRoad · Pagar Reserva</title>
</head>
<body>
<header class="nav-container">
    <nav class="navbar">
        <!-- Menú y logo como en tu código original -->
    </nav>
</header>

<main>
    <div class="container">
        <!-- Datos del conductor -->
        <section class="conductor-section">
            <h3>Dades del conductor</h3>
            <div class="conductor-details">
                <form th:action="@{/processForm}" th:object="${reserva}" method="post" enctype="multipart/form-data">
                    <!-- Datos del Cliente -->
                    <label for="nom">Nom</label>
                    <input type="text" th:field="*{client.nom}" placeholder="Nom" required>

                    <label for="cognom1">Cognom</label>
                    <input type="text" th:field="*{client.cognom1}" placeholder="Cognom" required>

                    <label for="email">E-mail</label>
                    <input type="email" th:field="*{client.email}" placeholder="E-mail" required>

                    <label for="telefono">Número de telèfon</label>
                    <input type="tel" th:field="*{client.numContacte1}" placeholder="Número de telèfon" required>

                    <!-- Checkbox para aceptar términos -->
                    <div class="terms">
                        <input type="checkbox" id="terms" required>
                        <label for="terms">
                            He llegit els <a href="/docs/terminos_y_condiciones.txt" target="_blank">Termes i condicions</a> de la reserva, nota legal i privacitat.
                        </label>
                    </div>

                    <!-- Costos -->
                    <div class="panel-derecho">
                        <div class="cost-summary">
                            <h4>COSTOS TOTALS</h4>
                            <p id="costosTotales"><strong>0.00 €</strong></p>
                            <!-- Campo oculto para preuComplert -->
                            <input type="hidden" id="preuComplert" th:field="*{preuComplert}" required>
                        </div>

                        <div class="imagen">
                            <img th:src="${vehicle.imageUrl}" alt="Imagen de ${vehicle.marca}">
                            <h3 class="nombre-coche" th:text="${vehicle.marca + ' ' + vehicle.model}"></h3>
                        </div>
                    </div>

                    <!-- Métodos de pago -->
                    <section class="payment-section">
                        <h3>Metodes de pagament</h3>
                        <div class="payment-details">
                            <label for="nombre-tarjeta">Nom Tarjeta</label>
                            <input type="text" id="nombre-tarjeta" placeholder="Paco Martínez Martínez" required>

                            <label for="numero-tarjeta">Nº tarjeta</label>
                            <input type="text" id="numero-tarjeta" placeholder="1234 1234 1234 1234" maxlength="19" required>

                            <label for="fecha-caducidad">Data caducitat</label>
                            <input type="text" id="fecha-caducidad" placeholder="05/2025" required>

                            <label for="cvv">CVV</label>
                            <input type="text" id="cvv" placeholder="123" maxlength="3" required>

                            <input type="hidden" name="matricula2" th:value="${vehicle.matricula}" />
                        </div>
                    </section>

                    <!-- Botón de pago -->
                    <div class="pay-button">
                        <button type="submit" class="btn btn-primary">Pagar</button>
                    </div>

                </form>
            </div>
        </section>
    </div>
</main>

<footer>
    <div class="container">
        <p>&copy; 2024 OpenRoad. Tots els drets reservats.</p>
    </div>
</footer>
</body>
</html>